<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Los Nadie - Arcade</title>
    <style>
        :root { --neon: #39ff14; --bg: #0a0a0a; }
        body { background: var(--bg); color: var(--neon); font-family: 'Courier New', monospace; margin: 0; overflow-x: hidden; }
        h1 { text-shadow: 0 0 10px var(--neon); margin-top: 30px; }
        
        .menu-arcade { 
            padding: 20px; 
            display: grid; 
            grid-template-columns: repeat(auto-fill, minmax(160px, 1fr)); 
            gap: 15px; 
            max-width: 1000px; 
            margin: auto;
        }

        .btn-juego { 
            border: 2px solid var(--neon); 
            padding: 20px; 
            cursor: pointer; 
            text-transform: uppercase;
            font-weight: bold;
            background: rgba(57, 255, 20, 0.05);
            transition: all 0.2s ease-in-out; 
        }

        .btn-juego:hover { background: var(--neon); color: #000; box-shadow: 0 0 20px var(--neon); transform: scale(1.05); }

        #emulador-container { 
            width: 100vw; 
            height: 100vh; 
            display: none; 
            position: fixed; 
            top: 0; 
            left: 0; 
            z-index: 1000; 
            background: #000; 
        }

        .controls-top {
            position: absolute;
            top: 0;
            width: 100%;
            display: flex;
            justify-content: space-between;
            z-index: 1001;
        }

        .btn-salir { 
            background: #ff003c; 
            color: white; 
            border: none; 
            padding: 12px 20px; 
            cursor: pointer; 
            font-weight: bold; 
            font-family: sans-serif;
        }

        #ej-container { width: 100%; height: 100%; }
    </style>
</head>
<body>

    <div id="main-menu">
        <h1>üïπÔ∏è LOS NADIE ARCADE üïπÔ∏è</h1>
        <p>INSERT COIN PARA JUGAR</p>
        <div class="menu-arcade" id="menu"></div>
        <br>
        <a href="index.html" style="color: #666; text-decoration: none;">[ ESC ] VOLVER AL INICIO</a>
    </div>

    <div id="emulador-container">
        <div class="controls-top">
            <button class="btn-salir" onclick="location.reload()">CERRAR JUEGO (EXIT)</button>
        </div>
        <div id="ej-container"></div>
    </div>

    <script>
        // Los imprescindibles de Atari2600
        const listaJuegos = [
            { nombre: "Space8", core: "nes", rom: "space_invader.bin" },
            { nombre: "The Legend of Zelda", core: "nes", rom: "donkeykong.bin" },
            { nombre: "Contra", core: "nes", rom: "pacman.bin" },
            { nombre: "Metroid", core: "nes", rom: "metroid.nes" },
            { nombre: "Mega Man 2", core: "nes", rom: "megaman2.nes" },
            { nombre: "Punch-Out!!", core: "nes", rom: "punchout.nes" },
            { nombre: "Castlevania III", core: "nes", rom: "cvania3.nes" },
            { nombre: "Kirby's Adventure", core: "nes", rom: "kirby.nes" },
            { nombre: "Pac-Man", core: "nes", rom: "pacman.nes" },
            { nombre: "Tetris", core: "nes", rom: "tetris.nes" }
        ];

        const menu = document.getElementById('menu');
        listaJuegos.forEach(j => {
            const div = document.createElement('div');
            div.className = 'btn-juego';
            div.innerHTML = `<div>${j.nombre}</div>`;
            div.onclick = () => iniciarJuego(j);
            menu.appendChild(div);
        });

        function iniciarJuego(juego) {
            document.getElementById('main-menu').style.display = 'none';
            document.getElementById('emulador-container').style.display = 'block';

            // CONFIGURACI√ìN AVANZADA EMULATORJS
            window.EJS_player = '#ej-container';
            window.EJS_core = juego.core;
            window.EJS_gameUrl = `roms/${juego.rom}`; 
            window.EJS_pathtodata = 'https://cdn.jsdelivr.net/gh/ethandentremont/emulatorjs@latest/dist/';
            
            // Ajustes de Interfaz y Compatibilidad
            window.EJS_startOnLoaded = true;
            window.EJS_language = "es-ES";
            window.EJS_showMenu = true; // Permite guardar partida
            window.EJS_on_mobile = /Android|iPhone|iPad/i.test(navigator.userAgent);
            
            // Esto arregla el problema de los controles en pantallas t√°ctiles
            window.EJS_gameName = juego.nombre;
            window.EJS_color = "#39ff14";
            window.EJS_AdUrl = ""; // Quitamos basura

            const loader = document.createElement('script');
            loader.src = 'https://cdn.jsdelivr.net/gh/ethandentremont/emulatorjs@latest/dist/loader.js';
            document.body.appendChild(loader);
        }
    </script>
</body>
</html>